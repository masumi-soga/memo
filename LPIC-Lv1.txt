LPICレベル1メモ
動作環境:Mac OS Big Sur 11.5.2
シェル:zsh
・Linuxコマンドについて
シェルオプションの有効無効や変数の定義はターミナル内で行った場合セッションを終了すると初期化される。

echo $TEST：「TEST」という変数の中身を表示する
 echo:文字列を表示
 $TEST:変数指定。TEST="SE"のように変数定義では$は必要ないが、変数を指定するコマンドの場合は$をつける

set | grep TEST：シェル変数一覧の中から「TEST」という文字列を検索する
 set:オプションを指定しない場合、シェル変数を表示する
 |(パイプ):パイプの前のコマンドの標準出力をパイプの後のコマンドへ渡す
 grep:文字列を検索する

export TEST="SE"：環境変数"TEST"に"SE"を代入する
 export：環境変数を定義する
env | grep "TEST"：環境変数の中で「TEST」文字列を検索する
 env：環境変数を表示する

set -O noclobber：noclobberシェルオプションを有効にする
 set：オプションをつけた場合、シェルのパラメータなどを設定する
 -O(+O)：-O 後述のシェルオプションを有効にする。 +O 後述のシェルオプションを無効にする
 主なシェルオプション
  noclobber[-C]：リダイレクション(>)による既存ファイルへの上書きを禁止する
  histexpand[-H]：!番号による履歴参照を行う

manコマンド
構文：man [オプション] [セクション] コマンドまたはキーワード
man 1 command：「command」の第1セクションのマニュアルを表示する
 man:マニュアルを参照する
Q:manコマンドが参照するドキュメントファイルの置かれている場所
 ディストリビューションに含まれるパッケージをインストールした場合のパス:/usr/share/man
 ディストリビューションに含まれないソフトウェアをインストールなどした場合のパス:/usr/local/share/man

historyコマンド
構文：history [オプション] [履歴数]
主なオプション
 -c:そのシェルの実行履歴を削除する
 -d [履歴番号]:指定した履歴番号のコマンドをそのシェルの履歴から消去する
キー操作
↑・↓:前後のコマンドを表示
!!:直前に実行したコマンドを実行する
![履歴番号]:指定された履歴番号コマンドを実行する
![文字列]:指定した文字列から始まる直近のコマンドを実行する
Q:コマンド実行履歴が保存されているファイルはどこか：~/.bash_history

suコマンド
構文：su [オプション][変更先ユーザ名]
su:一時的にアカウントを別のユーザのものに切り替える。環境変数などはsuコマンド実行前のユーザ環境を参照する。
主なオプション
- [変更先ユーザ名]:オプションとしてユーザの前にハイフン(-)を指定することでsuコマンドで切り替えたユーザの環境になる。
Qあなたは一般ユーザである[user]としてログインしている。現在のシェルを終了することなくrootの権限と環境でログイン
 しなおす必要がある場合、適切なものはどれか：su - root

mkdirコマンド
構文:mkdir [オプション] ディレクトリ名...n
mkdir：ディレクトリを作成する
主なオプション
-m [アクセス権]:明示的にアクセス権を指定してディレクトリを作成する
-p:中間ディレクトリを同時に作成する
Q自分のホームディレクトリ下に dir_b/subdirを作成したいが、dir_bは存在していない。dir_b/subdirを作るためには
 mkdir -p /home/user/dir_b/subdir

mvコマンド
構文1:mv [オプション] 移動元ファイル名...n 移動先ディレクトリ名
構文2:mv [オプション] 移動元ディレクトリ名...n 移動先ディレクトリ名
構文3:mv 現在のファイル名 変更後のファイル名
構文4:mv 現在のディレクトリ名 変更後のディレクトリ名
mv：ファイル・ディレクトリを移動する。最後の引数に存在しない名前を指定した場合、ファイル・ディレクトリの名称を変更する
主なオプション
-i:移動先に同名ファイルが存在する場合、上書きするか確認する
-f:移動先に同名ファイルが存在しても、強制的に上書きする

cpコマンド
構文1:cp [オプション] コピー元ファイル名 コピー先ファイル名
構文2:cp [オプション] コピー元ファイル名...n コピー先ディレクトリ名
Cp:コピーする
主なオプション
-i:コピー先に同名ファイルが存在する場合、上書きするか確認する
-f:コピー先に同名ファイルが存在しても、強制的に上書きする
-p:コピー元の所有者、タイムスタンプ、アクセス権などの情報を保持したままコピーする
-R(-r):コピー元のディレクトリ階層をそのままコピーする
Q/usr/local/samplesディレクトリ内にあるすべてのファイル・サブディレクトリを/home/yuko/samplesディレクトリの下に
 コピーしたい場合、適切なのはどれか：cp -Rf /usr/local/samples/* /home/yuko/samples

lsコマンド
構文1:ls [オプション] [ディレクトリ名]...n
構文2:ls [オプション] [ファイル名]...n
ls:ファイルやディレクトリの情報を一覧化
主なオプション
-F:ファイルのタイプを表す記号の表示
-a:隠しファイルの表示
-l:詳細な情報を含めて表示
-d:ディレクトリの内容ではなく、ディレクトリ自身の情報の表示

rmコマンド
構文:rm [オプション] ファイル名...n
rm:ファイルを削除する
rmdir:ディレクトリを削除する
主なオプション
-i:ファイルを削除する前にユーザへ確認する
-f:ユーザへの確認なしに削除する
-R(-r):指定されたディレクトリ内にファイル、ディレクトリが存在していてもすべて削除する
Q/tmpディレクトリの下にあるサブディレクトリをすべて削除するために、適切なものはどれか：rm -rf /tmp/*

tarコマンド
構文:tar [オプション] ファイル名またはディレクトリ名...n
tar:tar拡張子のファイルの展開や複数ファイル・ディレクトリをtar拡張子のアーカイブフォルダにする。
　　 zip等と違い圧縮ファイルではないことに注意。あくまでまとめるため
主なオプション
・何をするか
-c:アーカイブファイルを作成する
-t:アーカイブファイルの内容を表示する
-x:アーカイブファイルを展開する
・どうするか
-f:アーカイブファイル名を指定する(よく使う)
-v:詳細情報を表示する
・拡張子
-j:アーカイブに対してbzip2を使用する
-J:アーカイブに対してxzを使用する
-z:アーカイブに対してgzipを使用する
Q圧縮されたtarファイルである file.tar.gzに格納されているファイル名の一覧を表示するために、適切なものは
 tar ztf file.tar.gz
Qカレンとディレクトリにある samples.tgzには a.txt b,txtファイルが格納されている。gunzip samples.tgzを実行
 した際にカレントディレクトリにあるファイルはどれか:samples.tar

moreコマンド
構文: more ファイル
more:[Space]キーを押すと次ページが表示され、ファイルの最終ページまで閲覧と同時に終了
Q表示が1画面に入りきらない場合に、1画面ずつ表示するコマンドは？:more

lessコマンド
構文:less ファイル
less:1画面に収まらないファイルを表示するコマンド。オンラインマニュアルと操作が一緒

catコマンド
構文:cat [オプション] [ファイル名]...n
cat:表示したいファイルのファイル名を引数に指定するとディスプレイに表示する。指定しないと標準入力を返す
標準入力(stdin)・標準出力(stdout)・標準エラー出力(stderr)
cat >> ENDとした場合、ENDと入力されたら終了をする。>>はヒアドキュメントと呼ぶ。指定した文字列は、delimiter,
separatorとも呼ばれる。

nlコマンド
構文:nl [オプション] ファイル名
nl:ファイルの内容に行番号をつけて表示する

fileコマンド
構文: file [オプション] ファイル名 | ディレクトリ名
file:ファイルの種類を調べる
主なぷション
-i:MIMEタイプで表示する
Qファイルのタイプを確認するコマンドは:file

Qbashを使用している場合に、コマンドの後で"1>&2"と指定した場合の説明は:標準出力を標準エラー出力にリダイレクトする
"1>&2"について
ここでの1や2はファイル記述子を表す。0=標準入力、1=標準出力,2=標準エラー出力。これらはプロセスが生成されたときに用意され
そのプロセスが他にファイルをオープンすると3,4,5とそのプロセスについて順に割り当てられる。
&はマージする。つまり、1(標準出力)>(リダイレクト)&(マージ)2(標準エラー出力)。標準出力を標準エラー出力にマージし、表示
Qコマンド「cmd 1> data」を実行した場合の結果は:コマンドcmdの標準出力をdataに格納する
QカレントディレクトリにfileAがない場合に、 ls > fileAと実行した場合の結果は:fileAが作成され、lsの標準出力が格納される
　↑ls > fileA = ls 1>fileA
Qあるプログラムの標準出力、標準エラー出力どちらもあらゆる端末、ファイルデバイスに表示させないためには、コマンドラインの
 最後の部分として適しているのは： > /dev/null 2>&1
 ↑ /dev/nullは特殊なデバイスファイルで、ここに書かれたものは全て消去される。つまり、 >/dev/nullは標準出力をnullに
 格納し、標準エラー出力は標準出力と同じにする。つまりはnullへリダイレクトするということになる。

teeコマンド
構文:tee [オプション] ファイル名
tee:標準入力から読み込んだデータを標準出力とファイルの両方に出力する
主なオプション
-a:ファイルに上書きせず追記する
Qコマンドの標準出力を別のコマンドにリダイレクトすると同時にファイルにも格納することができるコマンドはなにか:tee
Qcmd1を実行後、cmd2を実行する際、適切なものはどれか:cmd1 ; cmd2
 cmd1 ; cmd2 = コマンドを順に実行する
 cmd1 && cmd2 = コマンド1が実行できればコマンド2を実行する
 cmd1 || cmd2 = コマンド1が実行できなければコマンド2を実行する

grepコマンド
構文:grep [オプション] 検索する文字列パターン [ファイル名]...n
grep:テキストデータ内の文字列検索を行う
主なオプション
-v:パターンに一致しない行を表示する
-n:行暗号を表示する
-l:パターンと一致するファイル名を表示
-i:大文字と小文字を区別しないで検索を行う
Qfile1から文字列fooを大文字/小文字区別せずに検索するコマンドラインは:
 cat file1 | grep -I foo もしくは grep -i foo file1

headコマンド
構文:head [オプション] [ファイル名]...n
head:テキストファイルの先頭部分を表示する。デフォルトで10行
tailコマンド
構文:tail [オプション] [ファイル名]...n
tail:テキストの末尾部分を表示する。デフォルトで10行
主なオプション
-n:行数を数字で指定。
-f:ファイルの内容が増え続けているものと仮定し、常にファイルの最終部分を読み続けようとする
Qファイルの先頭から、任意の行数を指定して、その内容を表示するコマンドは:head

trコマンド
構文:tr [オプション] [文字群1 [文字群2]]
tr:標準入力であるキーボードから入力された文字を指定した文字に変換して、標準出力に表示する
主なオプション
-d:文字群1で合致した文字を削除する
-s:文字群1で合致した文字の繰り返しを1文字に置き換える
QファイルfileAの中の小文字をすべて大文字に変換して表示するコマンドラインは:tr a-z A-Z < fileA
QWindowsのNTFSファイルシステムで、1行目が「A」,2行目が「B」のsample.txtファイルを作成しました。
 このファイルをLinuxのEXT4ファイルシステムに転送して「od -c samole.txt」を実行したところ、次のように表示された
          $ od -c sample.txt
          0000000 A \r \n B \r \n
 ファイル中に含まれているLinuxのテキストファイルでは不要である「\r」を削除するにはどうするか：
 「tr -d 'r' <sample.txt> sample-new.txt」コマンドを実行する

sedコマンド
構文:sed [オプション] [編集コマンド] [ファイル名]
sed:単語単位の変換や削除を行う。入力ストリーム(ファイルまたはパイプラインからの入力)に対して処理を行う
主なオプション
-i:編集結果を直接ファイルに書き込む
主なコマンド
s/パターン/置換文字列/ :各行を対象に、最初にパターンに合致する文字列を置換文字列に変換
s/パターン/置換文字列/g :ファイル内全体を対象に、パターンに合致する文字列を置換文字列に変換
d:パターンに合致する行を削除
p:パターンに合致する行を表示
QファイルfileAの中の「bob」という文字列を全て「Bob」という文字列に変換して表示するコマンドラインは:
 sed 's/bob/Bob/g' fileA

cutコマンド
構文:cut [オプション] ファイル名
cut:ファイル内の行中の特定部分のみ取り出す
主なオプション
-c:指定された位置の各文字だけを表示する
-b:指定された位置の各バイトだけを表示する
-d:-fと一緒に用い、フィールドの区切り文字を指定。デフォルトはタブ
-f:指定された各フィールドだけを表示する
-s:-fと一緒に用い、フィールドの区切り文字を含まない行を表示しない
Q/etc/passwdファイルにあるユーザ名とログインシェルを表示するコマンドは：cut -d : -f 1,7 /etc/passwd

wcコマンド
構文:wc [オプション] ファイル名
wc:ファイル内のバイト数、単語数、行数を表示する
主なオプション
-c:バイト数だけを出力する
-l:行数だけを出力する
-w:単語数だけを出力する
QOSに登録されているユーザ数を表示するコマンドラインとして、適切なものは：wc -l /etc/passwd

odコマンド
構文:od [オプション] [ファイル名]
od:ファイルの内容を8進数やその他の形式で表示する。バイナリファイルやテキストファイルに含まれる非印字コードを調べるのに良い
主なオプション
-d:Decimal(10進数)で表示する
-x:Hexa Decimal(16進数)で表示する
-c:ASCII文字またはバックスラッシュ付きのエスケープ文字として表示する
-A 基数:表示されるオフセットの基数を選択する。基数として指定できるのは以下
  d:10進数,o:8進数(デフォルト),x:16進数,n:なし

splitコマンド
構文:split [オプション] [入力元ファイル名 [プレフィックス]]
split:ファイルを決まった大きさに分割する。デフォルトでは1,000行ずつ分割し、指定がなければファイル名(プレフィックス)は
　　　 xが使用され、接尾辞(サフィックス)はaa,ab...が付加される
主なオプション
-l:出力の行数を指定する
-d:サフィックスを英字ではなく数字にする

Qwebからダウンロードしたファイルに対し、データの同一性を確認するため、データのハッシュ値を計算するコマンドは:sha256sum